# ğŸ¯ æ•™ç¨‹4ï¼šå·¥å…·ä½¿ç”¨ä»£ç†

æ¬¢è¿æ¥åˆ°å·¥å…·çš„ä¸–ç•Œï¼æœ¬æ•™ç¨‹æ•™æ‚¨å¦‚ä½•åˆ›å»ºèƒ½å¤Ÿä½¿ç”¨**ä¸åŒç±»å‹å·¥å…·**æ‰§è¡Œç‰¹å®šä»»åŠ¡çš„ä»£ç†ã€‚è¿™æ˜¯æ‚¨çš„ä»£ç†å˜å¾—çœŸæ­£å¼ºå¤§å¹¶èƒ½å¤Ÿæ‰§è¡Œç°å®ä¸–ç•Œæ“ä½œçš„åœ°æ–¹ã€‚

## ğŸ¯ æ‚¨å°†å­¦åˆ°ä»€ä¹ˆ

- **å†…ç½®å·¥å…·**ï¼šä½¿ç”¨Google ADKçš„é¢„æ„å»ºåŠŸèƒ½
- **å‡½æ•°å·¥å…·**ï¼šåˆ›å»ºè‡ªå®šä¹‰Pythonå‡½æ•°ä½œä¸ºå·¥å…·
- **ç¬¬ä¸‰æ–¹å·¥å…·**ï¼šä¸LangChainã€CrewAIå’Œå…¶ä»–æ¡†æ¶é›†æˆ
- **MCPå·¥å…·**ï¼šä¸æ¨¡å‹ä¸Šä¸‹æ–‡åè®®é›†æˆ

## ğŸ§  æ ¸å¿ƒæ¦‚å¿µï¼šADKä¸­çš„å·¥å…·

å·¥å…·æ˜¯**æ‚¨çš„ä»£ç†å¯ä»¥è°ƒç”¨çš„å‡½æ•°**æ¥æ‰§è¡Œç‰¹å®šä»»åŠ¡ã€‚å°†å®ƒä»¬è§†ä¸ºä»£ç†çš„"æ‰‹" - å®ƒä»¬å…è®¸ä»£ç†ï¼š
- æœç´¢ç½‘ç»œå¹¶è®¿é—®å®æ—¶ä¿¡æ¯
- æ‰§è¡Œä»£ç å’Œè¿›è¡Œè®¡ç®—
- è°ƒç”¨å¤–éƒ¨APIå’ŒæœåŠ¡
- è®¿é—®æ•°æ®åº“å’Œæ–‡ä»¶ç³»ç»Ÿ
- ä¸å…¶ä»–AIæ¡†æ¶äº¤äº’

## ğŸ”§ ADKä¸­çš„å·¥å…·ç±»å‹

### 1. **å†…ç½®å·¥å…·**
Google ADKæä¾›å¼ºå¤§çš„é¢„æ„å»ºå·¥å…·ï¼š
- **æœç´¢å·¥å…·**ï¼šç½‘ç»œæœç´¢åŠŸèƒ½
- **ä»£ç æ‰§è¡Œå·¥å…·**ï¼šå®‰å…¨è¿è¡ŒPythonä»£ç 
- **RAGå·¥å…·**ï¼šæ£€ç´¢å¢å¼ºç”Ÿæˆ
- **äº‘å·¥å…·**ï¼šGoogle Cloudé›†æˆ

*æ³¨æ„ï¼šå†…ç½®å·¥å…·ä»…é€‚ç”¨äºGeminiæ¨¡å‹*

### 2. **å‡½æ•°å·¥å…·**
å°†Pythonå‡½æ•°è½¬æ¢ä¸ºä»£ç†å·¥å…·ï¼š
```python
def calculate_area(length: float, width: float) -> float:
    """è®¡ç®—çŸ©å½¢é¢ç§¯"""
    return length * width

# è½¬æ¢ä¸ºå·¥å…·
area_tool = FunctionTool(calculate_area)
```

### 3. **ç¬¬ä¸‰æ–¹å·¥å…·**
é›†æˆç°æœ‰çš„AIæ¡†æ¶ï¼š
- **LangChainå·¥å…·**ï¼šè®¿é—®LangChainçš„å·¥å…·ç”Ÿæ€ç³»ç»Ÿ
- **CrewAIå·¥å…·**ï¼šä½¿ç”¨CrewAIçš„ä¸“ä¸šå·¥å…·
- **è‡ªå®šä¹‰é›†æˆ**ï¼šè¿æ¥ä»»ä½•å¤–éƒ¨æœåŠ¡

### 4. **MCPå·¥å…·**
æ¨¡å‹ä¸Šä¸‹æ–‡åè®®å·¥å…·ï¼š
- **æ–‡ä»¶ç³»ç»Ÿè®¿é—®**ï¼šè¯»å†™æ–‡ä»¶
- **ç½‘ç»œçˆ¬å–**ï¼šä½¿ç”¨Firecrawlç­‰æœåŠ¡
- **æ•°æ®åº“è¿æ¥**ï¼šè®¿é—®å„ç§æ•°æ®æº

## ğŸš€ æ•™ç¨‹ç»“æ„

æœ¬æ•™ç¨‹åŒ…å«**å››ä¸ªä¸“é—¨çš„ç¤ºä¾‹**ï¼š

### 1. **[å†…ç½®å·¥å…·](./4_1_builtin_tools/README.md)**
- ä½¿ç”¨Google ADKçš„é¢„æ„å»ºå·¥å…·
- æœç´¢å’Œä»£ç æ‰§è¡Œç¤ºä¾‹
- ä»…é™Geminiæ¨¡å‹åŠŸèƒ½

### 2. **[å‡½æ•°å·¥å…·](./4_2_function_tools/README.md)**
- åˆ›å»ºè‡ªå®šä¹‰Pythonå‡½æ•°å·¥å…·
- æ•°å­¦è®¡ç®—å’Œæ•°æ®å¤„ç†
- é€‚ç”¨äºæ‰€æœ‰æ¨¡å‹

### 3. **[ç¬¬ä¸‰æ–¹å·¥å…·](./4_3_thirdparty_tools/README.md)**
- LangChainå’ŒCrewAIé›†æˆ
- å¤–éƒ¨APIè¿æ¥
- æ¡†æ¶äº’æ“ä½œæ€§

### 4. **[MCPå·¥å…·](./4_4_mcp_tools/README.md)**
- æ¨¡å‹ä¸Šä¸‹æ–‡åè®®é›†æˆ
- æ–‡ä»¶ç³»ç»Ÿå’Œç½‘ç»œå·¥å…·
- é«˜çº§æ•°æ®è®¿é—®

## ğŸ”§ åŸºæœ¬è®¾ç½®

### 1. **å®‰è£…ä¾èµ–**
```bash
pip install google-adk langchain crewai
```

### 2. **åŸºæœ¬å·¥å…·ä»£ç†**
```python
from google.adk.agents import LlmAgent
from google.adk.tools import BuiltinTool

# åˆ›å»ºå¸¦æœç´¢å·¥å…·çš„ä»£ç†
search_agent = LlmAgent(
    name="search_agent",
    instructions="æ‚¨æ˜¯ä¸€ä¸ªç ”ç©¶åŠ©æ‰‹ï¼Œå¯ä»¥æœç´¢æœ€æ–°ä¿¡æ¯ã€‚",
    model="gemini-2.0-flash-exp",
    tools=[BuiltinTool.SEARCH]
)
```

### 3. **è‡ªå®šä¹‰å‡½æ•°å·¥å…·**
```python
from google.adk.tools import FunctionTool

def get_weather(city: str) -> str:
    """è·å–æŒ‡å®šåŸå¸‚çš„å¤©æ°”ä¿¡æ¯"""
    # å®é™…å®ç°ä¼šè°ƒç”¨å¤©æ°”API
    return f"{city}çš„å¤©æ°”ï¼šæ™´æœ—ï¼Œ22Â°C"

weather_tool = FunctionTool(get_weather)

weather_agent = LlmAgent(
    name="weather_agent",
    instructions="æ‚¨æ˜¯ä¸€ä¸ªå¤©æ°”åŠ©æ‰‹ã€‚",
    model="gemini-2.0-flash-exp",
    tools=[weather_tool]
)
```

## ğŸ“ å®è·µç¤ºä¾‹

### æœç´¢å’Œè®¡ç®—ä»£ç†
```python
from google.adk.tools import BuiltinTool, FunctionTool

def calculate_percentage(value: float, total: float) -> float:
    """è®¡ç®—ç™¾åˆ†æ¯”"""
    return (value / total) * 100

research_agent = LlmAgent(
    name="research_calculator",
    instructions="æœç´¢ä¿¡æ¯å¹¶è¿›è¡Œè®¡ç®—åˆ†æã€‚",
    model="gemini-2.0-flash-exp",
    tools=[
        BuiltinTool.SEARCH,
        BuiltinTool.CODE_EXECUTION,
        FunctionTool(calculate_percentage)
    ]
)

# ä½¿ç”¨ç¤ºä¾‹
response = research_agent.run(
    "æœç´¢2024å¹´å…¨çƒäººå£æ•°æ®ï¼Œå¹¶è®¡ç®—ä¸­å›½äººå£å å…¨çƒäººå£çš„ç™¾åˆ†æ¯”"
)
```

## ğŸ¯ æœ€ä½³å®è·µ

### 1. **å·¥å…·é€‰æ‹©æŒ‡å—**
- **å†…ç½®å·¥å…·**ï¼šå¿«é€ŸåŸå‹å’ŒGeminiä¸“ç”¨åŠŸèƒ½
- **å‡½æ•°å·¥å…·**ï¼šè‡ªå®šä¹‰ä¸šåŠ¡é€»è¾‘
- **ç¬¬ä¸‰æ–¹å·¥å…·**ï¼šåˆ©ç”¨ç°æœ‰ç”Ÿæ€ç³»ç»Ÿ
- **MCPå·¥å…·**ï¼šé«˜çº§æ•°æ®è®¿é—®å’Œé›†æˆ

### 2. **å·¥å…·ç»„åˆç­–ç•¥**
```python
# ç ”ç©¶ä»£ç†ï¼šæœç´¢ + ä»£ç æ‰§è¡Œ
research_tools = [BuiltinTool.SEARCH, BuiltinTool.CODE_EXECUTION]

# æ•°æ®åˆ†æä»£ç†ï¼šè‡ªå®šä¹‰å‡½æ•° + æ–‡ä»¶è®¿é—®
analysis_tools = [FunctionTool(analyze_data), mcp_file_tool]

# å¤šåŠŸèƒ½ä»£ç†ï¼šæ··åˆå·¥å…·
hybrid_tools = [BuiltinTool.SEARCH, FunctionTool(custom_calc), langchain_tool]
```

### 3. **é”™è¯¯å¤„ç†**
```python
def safe_calculation(a: float, b: float) -> str:
    """å®‰å…¨çš„é™¤æ³•è®¡ç®—"""
    try:
        if b == 0:
            return "é”™è¯¯ï¼šé™¤æ•°ä¸èƒ½ä¸ºé›¶"
        return f"ç»“æœï¼š{a / b}"
    except Exception as e:
        return f"è®¡ç®—é”™è¯¯ï¼š{str(e)}"
```

## ğŸ” å·¥å…·è°ƒè¯•

### 1. **å·¥å…·æ‰§è¡Œè·Ÿè¸ª**
```python
response = agent.run("è®¡ç®—10é™¤ä»¥2")
print(f"ä½¿ç”¨çš„å·¥å…·ï¼š{response.tool_calls}")
print(f"å·¥å…·ç»“æœï¼š{response.tool_results}")
```

### 2. **å·¥å…·æ€§èƒ½ç›‘æ§**
```python
import time

def timed_function(func):
    def wrapper(*args, **kwargs):
        start = time.time()
        result = func(*args, **kwargs)
        end = time.time()
        print(f"å·¥å…·æ‰§è¡Œæ—¶é—´ï¼š{end - start:.2f}ç§’")
        return result
    return wrapper

@timed_function
def slow_calculation(n: int) -> int:
    """è€—æ—¶è®¡ç®—ç¤ºä¾‹"""
    return sum(range(n))
```

## ğŸš€ è¿è¡Œç¤ºä¾‹

### 1. **å†…ç½®å·¥å…·ç¤ºä¾‹**
```bash
cd 4_1_builtin_tools
python builtin_tools_agent.py
```

### 2. **å‡½æ•°å·¥å…·ç¤ºä¾‹**
```bash
cd 4_2_function_tools
python function_tools_agent.py
```

### 3. **ç¬¬ä¸‰æ–¹å·¥å…·ç¤ºä¾‹**
```bash
cd 4_3_thirdparty_tools
python thirdparty_tools_agent.py
```

### 4. **MCPå·¥å…·ç¤ºä¾‹**
```bash
cd 4_4_mcp_tools
python mcp_tools_agent.py
```

## ğŸ”„ ä¸‹ä¸€æ­¥

ç°åœ¨æ‚¨æŒæ¡äº†å·¥å…·çš„åŠ›é‡ï¼æ¥ä¸‹æ¥ï¼š

1. **åˆ›å»ºè‡ªå®šä¹‰å·¥å…·**ï¼šä¸ºæ‚¨çš„ç‰¹å®šç”¨ä¾‹æ„å»ºå·¥å…·
2. **ç»„åˆå¤šä¸ªå·¥å…·**ï¼šåˆ›å»ºå¼ºå¤§çš„å¤šå·¥å…·ä»£ç†
3. **ä¼˜åŒ–æ€§èƒ½**ï¼šæ”¹è¿›å·¥å…·æ‰§è¡Œæ•ˆç‡
4. **é›†æˆå¤–éƒ¨æœåŠ¡**ï¼šè¿æ¥åˆ°æ‚¨çš„ä¸šåŠ¡ç³»ç»Ÿ

## ğŸ¤” æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜ï¼š
1. **å·¥å…·ä¸å¯ç”¨**ï¼šæ£€æŸ¥æ¨¡å‹å…¼å®¹æ€§ï¼ˆå†…ç½®å·¥å…·éœ€è¦Geminiï¼‰
2. **å‡½æ•°é”™è¯¯**ï¼šéªŒè¯å‡½æ•°ç­¾åå’Œç±»å‹æç¤º
3. **æƒé™é—®é¢˜**ï¼šç¡®ä¿APIå¯†é’¥å’Œæƒé™æ­£ç¡®è®¾ç½®

### æœ‰ç”¨çš„èµ„æºï¼š
- [Google ADKå·¥å…·æ–‡æ¡£](https://ai.google.dev/agentic)
- [LangChainå·¥å…·æŒ‡å—](https://python.langchain.com/docs/modules/tools/)
- [MCPåè®®è§„èŒƒ](https://modelcontextprotocol.io/)
